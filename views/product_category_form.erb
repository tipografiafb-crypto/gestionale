<div class="container mt-5" style="max-width: 600px;">
  <h1><%= @category&.id ? "Modifica Categoria" : "Nuova Categoria" %></h1>

  <% if @error %>
    <div class="alert alert-danger"><%= @error %></div>
  <% end %>

  <form action="<%= @category&.id ? "/product_categories/#{@category.id}" : "/product_categories" %>" method="post">
    <% if @category&.id %>
      <input type="hidden" name="_method" value="PUT">
    <% end %>

    <div class="mb-3">
      <label for="name" class="form-label">Nome Categoria *</label>
      <input type="text" class="form-control" id="name" name="name" value="<%= @category&.name %>" required>
      <small class="text-muted">Es: "Plettri", "Poster", "Magneti"</small>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Descrizione</label>
      <textarea class="form-control" id="description" name="description" rows="3"><%= @category&.description %></textarea>
    </div>

    <div class="mb-3">
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="active" name="active" value="true" <%= @category&.active? ? 'checked' : '' %>>
        <label class="form-check-label" for="active">Attivo</label>
      </div>
    </div>

    <div class="mb-3">
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="autopilot_preprint_enabled" name="autopilot_preprint_enabled" value="true" <%= @category&.autopilot_preprint_enabled ? 'checked' : '' %>>
        <label class="form-check-label" for="autopilot_preprint_enabled">
          <strong>âš¡ Autopilot Preprint</strong> - Invia automaticamente i line items a Switch quando l'ordine arriva
        </label>
      </div>
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary">ðŸ’¾ Salva Categoria</button>
      <a href="/product_categories" class="btn btn-secondary">Annulla</a>
    </div>
  </form>
</div>
